#Caucasian Diplomacy Innovation (Byzantine)
try_remove_caucasian_alliance_opinion_effect = { #copied from 00_diplomacy_perk_effects.txt
	if = {
		limit = {
			has_opinion_modifier = {
				modifier = sg_caucasian_alliance_interaction_opinion
				target = $TARGET$
			}
		}
		remove_opinion = {
			modifier = sg_caucasian_alliance_interaction_opinion
			target = $TARGET$
		}
	}
}
# #Ghilman (Arabic)
# create_mamlukes_effect = {
	# custom_tooltip = create_new_kingdom
	# show_as_tooltip = {
		# every_held_title = {
			# custom = create_title_every_held_duchy
			# limit = {
				# tier = tier_duchy
			# }
			# custom_tooltip = create_custom_kingdom_de_jure_changes
		# }
	# }

	# hidden_effect = {
		# save_scope_as = mameluke_master
		# primary_title = {
			# save_scope_as = master_title
		# }
		
		# create_character = {
			# template = ghulam_commander_character
			# location = scope:founder
			# save_scope_as = ghulam_commander
		# }
		
		# create_dynamic_title = {
			# tier = duchy
			# name = mamluke_company_name
		# }
		# create_title_and_vassal_change = {
			# type = created
			# save_scope_as = change
			# add_claim_on_loss = no
		# }
		
		# scope:new_title = {
			# change_title_holder = {
				# holder = scope:ghulam_commander
				# change = scope:change
			# }
		# }
		
		# resolve_title_and_vassal_change = scope:change

		# # set Mamluke company as de jure vassal of the player's primary kingdom title or kingdom title in which player owns most land if higher than King-tier
		# primary_title = {
			# if = {
				# limit =  {
					# tier = tier_empire
				# }
			# }
			# every_in_de_jure_hierarchy = {
				# if = {
					# limit = {
						# tier = tier_kingdom
						# NOT = {
							# is_in_list = potential_kingdoms
						# }
					# }
					# add_to_list = potential_kingdoms
				# }
			# }
			# if = {
				# limit = {
					# any_in_list = {
						# list = potential_kingdoms
						# count > 0
					# }
				# }
				# ordered_in_list = {
					# list = potential_kingdoms
					# order_by = {
						# every_in_de_jure_hierarchy = {
							# continue = {
								# tier > tier_county
							# }
							# limit = {
								# tier = tier_county
								# holder.top_liege = root
							# }
							# add = 1
						# }
					# }
					# position = 0
					# save_scope_as = mamluke_sultanate
				# }
			# }
			# if = {
				# limit = {
					# tier = tier_kingdom
				# }
				# save_scope_as = mamluke_sultanate
			# }
		# }
		# if = {
			# limit = {
				# exists = scope:mamluke_sultanate
			# }
			# scope:new_title = {
				# set_de_jure_liege_title = mamluke_sultanate
			# }
		# }
		
		# scope:new_title = {
			# set_coa = scope:old_title
			# set_color_from_title = scope:old_title
			# set_capital_county = scope:old_title.title_capital_county
		# }
	# }
# }